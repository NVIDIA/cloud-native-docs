


<!DOCTYPE html>


<html data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Troubleshooting &#8212; NVIDIA GPU Operator on Red Hat OpenShift Container Platform</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/nvidia-sphinx-theme.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/mermaid-init.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/design-tabs.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'troubleshooting-gpu-ocp';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.16.1';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = '../versions1.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '25.3.2';
        DOCUMENTATION_OPTIONS.show_version_warning_banner =
            false;
        </script>
    <script src="_static/version.js"></script>
    <script src="_static/social-media.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Appendix" href="appendix-ocp.html" />
    <link rel="prev" title="Precompiled Drivers for the NVIDIA GPU Operator for RHCOS" href="gpu-operator-with-precompiled-drivers.html" />


  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="None"/>
  <meta name="docsearch:version" content="" />
    <meta name="docbuild:last-update" content="Aug 27, 2025"/>



  <script src="https://assets.adobedtm.com/5d4962a43b79/c1061d2c5e7b/launch-191c2462b890.min.js" ></script>
  


  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/nvidia-logo-horiz-rgb-blk-for-screen.svg" class="logo__image only-light" alt="NVIDIA GPU Operator on Red Hat OpenShift Container Platform - Home"/>
    <img src="_static/nvidia-logo-horiz-rgb-wht-for-screen.svg" class="logo__image only-dark pst-js-only" alt="NVIDIA GPU Operator on Red Hat OpenShift Container Platform - Home"/>
  
  
    <p class="title logo__title">NVIDIA GPU Operator on Red Hat OpenShift Container Platform</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">


<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-2"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-2"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-2"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-2">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        



  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/nvidia-logo-horiz-rgb-blk-for-screen.svg" class="logo__image only-light" alt="NVIDIA GPU Operator on Red Hat OpenShift Container Platform - Home"/>
    <img src="_static/nvidia-logo-horiz-rgb-wht-for-screen.svg" class="logo__image only-dark pst-js-only" alt="NVIDIA GPU Operator on Red Hat OpenShift Container Platform - Home"/>
  
  
    <p class="title logo__title">NVIDIA GPU Operator on Red Hat OpenShift Container Platform</p>
  
</a>


  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">


<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-3"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-3"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-3"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-3">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">



<nav class="bd-docs-nav bd-links"
     aria-label="Table of Contents">
  <p class="bd-links__title" role="heading" aria-level="1">Table of Contents</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="prerequisites.html">Prerequisites</a></li>
<li class="toctree-l1"><a class="reference internal" href="steps-overview.html">Installation and Upgrade Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="install-nfd.html">NFD Operator Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="install-gpu-ocp.html">GPU Operator Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="nvaie-with-ocp.html">NVIDIA AI Enterprise with OpenShift</a></li>
<li class="toctree-l1"><a class="reference internal" href="mig-ocp.html">MIG Support in OpenShift Container Platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="clean-up.html">Cleanup</a></li>
<li class="toctree-l1"><a class="reference internal" href="mirror-gpu-ocp-disconnected.html">Deploy GPU Operators in a disconnected or airgapped environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="enable-gpu-monitoring-dashboard.html">Enabling the GPU Monitoring Dashboard</a></li>

<li class="toctree-l1"><a class="reference internal" href="time-slicing-gpus-in-openshift.html">Time-slicing NVIDIA GPUs in OpenShift</a></li>
<li class="toctree-l1"><a class="reference internal" href="openshift-virtualization.html">NVIDIA GPU Operator with OpenShift Virtualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="gpu-operator-with-precompiled-drivers.html">Precompiled Drivers for the NVIDIA GPU Operator for RHCOS</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendix-ocp.html">Appendix</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>



      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">
<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    <li class="breadcrumb-item breadcrumb-home">
      <a href="https://docs.nvidia.com">NVIDIA Docs Hub</a>
    </li>
    <li class="breadcrumb-item">
      <a href="https://docs.nvidia.com/datacenter/cloud-native">Cloud Native Technologies</a>
    </li>
    <li class="breadcrumb-item">
      <a href="index.html">NVIDIA GPU Operator on Red Hat OpenShift Container Platform</a>
    </li>
    <li class="breadcrumb-item active" aria-current="page">Troubleshooting</li>
  </ul>
</nav></div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="troubleshooting">
<span id="troubleshooting-gpu-ocp"></span><h1>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this headline">#</a></h1>
<p>This section includes errors that users may encounter when performing various checks during installing the <strong>NVIDIA GPU Operator</strong> on the OpenShift Container Platform cluster.</p>
<section id="node-feature-discovery-checks">
<h2>Node Feature Discovery checks<a class="headerlink" href="#node-feature-discovery-checks" title="Permalink to this headline">#</a></h2>
<ol class="arabic">
<li><p>Verify the Node Feature Discovery has been created:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>oc get NodeFeatureDiscovery -n openshift-nfd
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">NAME           AGE</span>
<span class="go">nfd-instance   4h11m</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If empty the Node Feature Discovery Custom Resource (CR) must be created.</p>
</div>
</li>
<li><p>Ensure there are nodes with GPU. In this example the check is performed for the NVIDIA GPU which uses the PCI ID 10de.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>oc get nodes -l feature.node.kubernetes.io/pci-10de.present
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">NAME                           STATUS   ROLES    AGE     VERSION</span>
<span class="go">ip-10-0-133-209.ec2.internal   Ready    worker   4h13m   v1.21.1+9807387</span>
</pre></div>
</div>
</li>
</ol>
</section>
<section id="gpu-operator-checks">
<h2>GPU Operator checks<a class="headerlink" href="#gpu-operator-checks" title="Permalink to this headline">#</a></h2>
<ol class="arabic">
<li><p>Verify the Custom Resource Definition (CRD) is deployed.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>oc get crd/clusterpolicies.nvidia.com
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">NAME                         CREATED AT</span>
<span class="go">clusterpolicies.nvidia.com   2021-09-02T10:33:50Z</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If missing, the cluster policy install was unsuccessful.</p>
</div>
</li>
<li><p>Verify the cluster policy is deployed:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>oc get clusterpolicy
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">NAME                  AGE</span>
<span class="go">gpu-cluster-policy    8m25s</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If missing, create the custom resource (CR).
Refer to <a class="reference internal" href="install-gpu-ocp.html#create-cluster-policy"><span class="std std-ref">Create the ClusterPolicy instance</span></a> for more information.</p>
</div>
</li>
<li><p>Verify that the Operator is running:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>oc get pods -n nvidia-gpu-operator -lapp<span class="o">=</span>gpu-operator
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">NAME                            READY   STATUS    RESTART    AGE</span>
<span class="go">gpu-operator-6b8b8c5fd9-zcs9r   1/1     Running   0          3h55m</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If <cite>ImagePullBackOff</cite> is reported, maybe the NVIDIA registry is down. If <cite>CrashLoopBackOff</cite> is reported review the operator logs.</p>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>oc logs -f -n nvidia-gpu-operator -lapp<span class="o">=</span>gpu-operator
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">2021-11-17T12:08:33.913Z  INFO    controllers.ClusterPolicy       Found Resource, updating...     {&quot;ClusterRoleBinding&quot;: &quot;nvidia-mig-manager&quot;, &quot;Namespace&quot;: &quot;nvidia-gpu-operator&quot;}</span>
<span class="go">2021-11-17T12:08:33.941Z  INFO    controllers.ClusterPolicy       Found Resource, updating...     {&quot;ConfigMap&quot;: &quot;default-mig-parted-config&quot;, &quot;Namespace&quot;: &quot;nvidia-gpu-operator&quot;}</span>
<span class="go">2021-11-17T12:08:33.958Z  INFO    controllers.ClusterPolicy       Found Resource, updating...     {&quot;ConfigMap&quot;: &quot;default-gpu-clients&quot;, &quot;Namespace&quot;: &quot;nvidia-gpu-operator&quot;}</span>
<span class="go">2021-11-17T12:08:33.964Z  INFO    controllers.ClusterPolicy       Found Resource, updating...     {&quot;SecurityContextConstraints&quot;: &quot;nvidia-mig-manager&quot;, &quot;Namespace&quot;: &quot;default&quot;}</span>
<span class="go">2021-11-17T12:08:33.992Z  INFO    controllers.ClusterPolicy       DaemonSet identical, skipping update    {&quot;DaemonSet&quot;: &quot;nvidia-mig-manager&quot;, &quot;Namespace&quot;: &quot;nvidia-gpu-operator&quot;, &quot;name&quot;: &quot;nvidia-mig-manager&quot;}</span>
<span class="go">2021-11-17T12:08:33.992Z  INFO    controllers.ClusterPolicy       DEBUG: DaemonSet        {&quot;LabelSelector&quot;: &quot;app=nvidia-mig-manager&quot;}</span>
<span class="go">2021-11-17T12:08:33.992Z  INFO    controllers.ClusterPolicy       DEBUG: DaemonSet        {&quot;NumberOfDaemonSets&quot;: 1}</span>
<span class="go">2021-11-17T12:08:33.992Z  INFO    controllers.ClusterPolicy       DEBUG: DaemonSet        {&quot;NumberUnavailable&quot;: 0}</span>
<span class="go">2021-11-17T12:08:33.992Z  INFO    controllers.ClusterPolicy       INFO: ClusterPolicy step completed      {&quot;state:&quot;: &quot;state-mig-manager&quot;, &quot;status&quot;: &quot;ready&quot;}</span>
<span class="go">2021-11-17T12:08:34.061Z  INFO    controllers.ClusterPolicy       ClusterPolicy is ready.</span>
</pre></div>
</div>
</li>
</ol>
</section>
<section id="validate-the-gpu-stack">
<h2>Validate the GPU stack<a class="headerlink" href="#validate-the-gpu-stack" title="Permalink to this headline">#</a></h2>
<p>The GPU Operator validates the stack using the <code class="docutils literal notranslate"><span class="pre">nvidia-device-plugin-validator</span></code> and the <code class="docutils literal notranslate"><span class="pre">nvidia-cuda-validator</span></code> pod. If they report the status <code class="docutils literal notranslate"><span class="pre">Completed</span></code>, the stack works as expected.</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>oc get po -n nvidia-gpu-operator
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">NAME                                                              READY   STATUS      RESTARTS   AGE</span>
<span class="go">bb0dd90f1b757a8c7b338785a4a65140732d30447093bc2c4f6ae8e75844gfv   0/1     Completed   0          125m</span>
<span class="go">gpu-feature-discovery-hlpgs                                       1/1     Running     0          122m</span>
<span class="go">gpu-operator-8dc8d6648-jzhnr                                      1/1     Running     0          125m</span>
<span class="go">nvidia-container-toolkit-daemonset-z2wh7                          1/1     Running     0          122m</span>
<span class="go">nvidia-cuda-validator-8fx22                                       0/1     Completed   0          117m</span>
<span class="go">nvidia-dcgm-exporter-ds9xd                                        1/1     Running     0          122m</span>
<span class="go">nvidia-dcgm-k7tz6                                                 1/1     Running     0          122m</span>
<span class="go">nvidia-device-plugin-daemonset-nqxmc                              1/1     Running     0          122m</span>
<span class="go">nvidia-device-plugin-validator-87zdl                              0/1     Completed   0          117m</span>
<span class="go">nvidia-driver-daemonset-48.84.202110270303-0-9df9j                2/2     Running     0          122m</span>
<span class="go">nvidia-node-status-exporter-7bhdk                                 1/1     Running     0          122m</span>
<span class="go">nvidia-operator-validator-kjznr                                   1/1     Running     0          122m</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic">
<li><p>Verify the cuda validator logs:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>oc logs -f nvidia-cuda-validator-8fx22 -n nvidia-gpu-operator
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cuda workload validation is successful</span>
</pre></div>
</div>
</li>
<li><p>Verify the nvidia-device-plugin-validator logs:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>oc logs nvidia-device-plugin-validator-87zdl -n nvidia-gpu-operator
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">device-plugin workload validation is successful</span>
</pre></div>
</div>
</li>
</ol>
</section>
<section id="verify-the-nvidia-driver-deployment">
<h2>Verify the NVIDIA driver deployment<a class="headerlink" href="#verify-the-nvidia-driver-deployment" title="Permalink to this headline">#</a></h2>
<p>This is an illustrated example of a situation where the deployment of the Operator is <strong>not</strong> proceeding as expected.</p>
<ol class="arabic">
<li><p>List the pods deployed to the nvidia-gpu-operator namespace:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>oc get pods -n nvidia-gpu-operator
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">NAME                                               READY   STATUS             RESTARTS   AGE</span>
<span class="go">gpu-feature-discovery-hlpgs                        0/1     Init:0/1           0          53m</span>
<span class="go">gpu-operator-8dc8d6648-jzhnr                       0/1     Init:0/1           0          53m</span>
<span class="go">nvidia-container-toolkit-daemonset-z2wh7           0/1     Init:0/1           0          53m</span>
<span class="go">nvidia-cuda-validator-8fx22                        0/1     Init:0/1           0          53m</span>
<span class="go">nvidia-dcgm-exporter-ds9xd                         0/1     Init:0/2           0          53m</span>
<span class="go">nvidia-dcgm-k7tz6                                  0/1     Init:0/1           0          53m</span>
<span class="go">nvidia-device-plugin-daemonset-nqxmc               0/1     Init:0/1           0          53m</span>
<span class="go">nvidia-device-plugin-validator-87zd                0/1     Init:0/1           0          53m</span>
<span class="go">nvidia-driver-daemonset-48.84.202110270303-0-9df9j 0/1     CrashLoopBackOff   13         53m</span>
<span class="go">nvidia-node-status-exporter-7bhdk                  1/1     Init: 0/1          0          53m</span>
<span class="go">nvidia-operator-validator-kjznr                    0/1     Init:0/4           0          53m</span>
</pre></div>
</div>
<p>The Init status indicates the driver pod is not ready. In this example the driver Pod is in state <cite>CrashLoopBackOff</cite>. This combined with the RESTARTS equal to 13 indicates a problem.</p>
</li>
<li><p>Verify the main console page:</p>
<img alt="_images/ocp_main_console_alerts.png" src="_images/ocp_main_console_alerts.png" />
<p>The first alert shows that the “nvidia driver could not be properly deployed”.</p>
</li>
<li><p>Examine the NVIDIA driver main container logs:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>oc logs -f nvidia-driver-daemonset-48.84.202110270303-0-9df9j -n nvidia-gpu-operator -c nvidia-driver-ctr
</pre></div>
</div>
<p>In the logs this line indicates an entitlement issue:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">FATAL: failed to install elfutils packages. RHEL entitlement may be improperly deployed</span>
</pre></div>
</div>
<p>This message may be associated with the unsuccessful deployment of the driver toolkit. To confirm the driver toolkit is successfully deployed follow the guidance in <a class="reference internal" href="#verify-toolkit"><span class="std std-ref">Verify the OpenShift Driver Toolkit</span></a>.
If you see this message, you should troubleshoot the underlying issue instead of relying on RHEL entitlement. Entitled driver builds are deprecated and not supported on recent versions of Red Hat OpenShift.
See <a class="reference internal" href="appendix-ocp.html#broken-dtk-troubleshooting"><span class="std std-ref">Troubleshooting Broken Driver Toolkit Errors</span></a> for more information.</p>
</li>
</ol>
</section>
<section id="verify-the-openshift-driver-toolkit">
<span id="verify-toolkit"></span><h2>Verify the OpenShift Driver Toolkit<a class="headerlink" href="#verify-the-openshift-driver-toolkit" title="Permalink to this headline">#</a></h2>
<p>Verify the OpenShift Driver Toolkit is successfully deployed.</p>
<ol class="arabic">
<li><p>Examine the logs to ensure the driver toolkit is successfully deployed:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">oc logs $(oc get pods -l app=gpu-operator -oname -n nvidia-gpu-operator) -n nvidia-gpu-operator</span>
</pre></div>
</div>
<p>The following output indicates an issue with <code class="docutils literal notranslate"><span class="pre">dependencies</span> <span class="pre">missing</span></code>.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">2021-11-15T11:43:51.626Z   INFO    controllers.ClusterPolicy       ocpHasDriverToolkitImageStream: driver-toolkit imagestream not found    {&quot;Name&quot;: &quot;driver-toolkit&quot;, &quot;Namespace&quot;: &quot;openshift&quot;}</span>
<span class="go">2021-11-15T11:43:51.626Z   INFO    controllers.ClusterPolicy       WARNING OpenShift Driver Toolkit requested      {&quot;hasCompatibleNFD&quot;: true, &quot;hasDriverToolkitImageStream&quot;: false}</span>
<span class="go">2021-11-15T11:43:51.626Z   INFO    controllers.ClusterPolicy       WARNING OpenShift Driver Toolkit        {&quot;enabled&quot;: false}</span>
<span class="go">...</span>
<span class="go">2021-11-15T11:43:52.048Z   INFO    controllers.ClusterPolicy       WARNING: OpenShift DriverToolkit was requested but could not be enabled (dependencies missing)</span>
</pre></div>
</div>
<p>Examining <strong>Alerts</strong> on the OpenShift Container Platform web console reveals the following for <strong>GPUOperatorOpenshiftDriverToolkitEnabledImageStreamMissing</strong>. This screenshot provides additional evidence that the Openshift version needs upgraded.</p>
<img alt="_images/driver_toolkit_alert.png" src="_images/driver_toolkit_alert.png" />
<p>The log entry and information from the alert indicates this version of OpenShift does not support a successful deployment of the OpenShift Driver Toolkit.
For more details about the dependencies between the OpenShift Container Platform version and the OpenShift Driver Toolkit,
refer to <a class="reference internal" href="steps-overview.html"><span class="doc">Installation and Upgrade Overview on OpenShift</span></a>.</p>
</li>
</ol>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="gpu-operator-with-precompiled-drivers.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Precompiled Drivers for the NVIDIA GPU Operator for RHCOS</p>
      </div>
    </a>
    <a class="right-next"
       href="appendix-ocp.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Appendix</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            


              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#node-feature-discovery-checks">Node Feature Discovery checks</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#gpu-operator-checks">GPU Operator checks</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#validate-the-gpu-stack">Validate the GPU stack</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#verify-the-nvidia-driver-deployment">Verify the NVIDIA driver deployment</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#verify-the-openshift-driver-toolkit">Verify the OpenShift Driver Toolkit</a></li>
</ul>
  </nav></div>

</div></div>
              
            

          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>


  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
<a class="footer-brand logo" href="https://www.nvidia.com">
  <img src="_static/nvidia-logo-horiz-rgb-1c-blk-for-screen.svg" class="logo__image only-light" alt="NVIDIA"/>
  <img src="_static/nvidia-logo-horiz-rgb-1c-wht-for-screen.svg" class="logo__image only-dark" alt="NVIDIA"/>
</a></div>
      
        <div class="footer-item">

<div class="footer-links">
  
  
  <a class="external" href="https://www.nvidia.com/en-us/about-nvidia/privacy-policy/">Privacy Policy</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/about-nvidia/privacy-center/">Manage My Privacy</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/preferences/start/">Do Not Sell or Share My Data</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/about-nvidia/terms-of-service/">Terms of Service</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/about-nvidia/accessibility/">Accessibility</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/about-nvidia/company-policies/">Corporate Policies</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/product-security/">Product Security</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/contact/">Contact</a>
  
  
  
</div>
</div>
      
        <div class="footer-item">




  <p class="copyright">
    
      Copyright © 2020-2025, NVIDIA Corporation.
      <br/>
    
  </p>
</div>
      
    </div>
  
  
  
</div>

  </footer>

  <script type="text/javascript">if (typeof _satellite !== "undefined") {_satellite.pageBottom();}</script>
  


  </body>
</html>